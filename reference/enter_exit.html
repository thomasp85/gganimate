<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define how entering and exiting data behaves — enter_exit • gganimate</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Define how entering and exiting data behaves — enter_exit" />
<meta property="og:description" content="The purpose of enter_*() and exit_*() is to control what happens with
data that does not persist during a tween. In general the non-persistent data
is transformed to an invisible version that can be tweened to, e.g. by
setting the opacity to 0 or be moving the element off-screen. It is possible
to define your own transformations, or rely on some of the build in
effects." />
<meta property="og:image" content="https://gganimate.com/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-84380701-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84380701-2');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gganimate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/gganimate.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/extra/talks.html">Talks</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2019/gganimate-has-transitioned-to-a-state-of-release/">Version 1.0.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/thomasp85/gganimate">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define how entering and exiting data behaves</h1>
    <small class="dont-index">Source: <a href='https://github.com/thomasp85/gganimate/blob/master/R/transmute-.R'><code>R/transmute-.R</code></a>, <a href='https://github.com/thomasp85/gganimate/blob/master/R/transmute-enter.R'><code>R/transmute-enter.R</code></a>, <a href='https://github.com/thomasp85/gganimate/blob/master/R/transmute-exit.R'><code>R/transmute-exit.R</code></a></small>
    <div class="hidden name"><code>enter_exit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The purpose of <code>enter_*()</code> and <code>exit_*()</code> is to control what happens with
data that does not persist during a tween. In general the non-persistent data
is transformed to an <em>invisible</em> version that can be tweened to, e.g. by
setting the opacity to 0 or be moving the element off-screen. It is possible
to define your own transformations, or rely on some of the build in
<em>effects</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>enter_manual</span>(<span class='kw'>default</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"manual"</span>)

<span class='fu'>enter_appear</span>(<span class='kw'>early</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>enter_fade</span>(<span class='no'>...</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>enter_grow</span>(<span class='no'>...</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>enter_recolour</span>(<span class='no'>...</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='st'>"white"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>colour</span>)

<span class='fu'>enter_recolor</span>(<span class='no'>...</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"white"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>color</span>)

<span class='fu'>enter_fly</span>(<span class='no'>...</span>, <span class='kw'>x_loc</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>y_loc</span> <span class='kw'>=</span> <span class='fl'>NA</span>)

<span class='fu'>enter_drift</span>(<span class='no'>...</span>, <span class='kw'>x_mod</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>y_mod</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>enter_reset</span>()

<span class='fu'>exit_manual</span>(<span class='kw'>default</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"manual"</span>)

<span class='fu'>exit_disappear</span>(<span class='kw'>early</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>exit_fade</span>(<span class='no'>...</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>exit_shrink</span>(<span class='no'>...</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>exit_recolour</span>(<span class='no'>...</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='st'>"white"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>colour</span>)

<span class='fu'>exit_recolor</span>(<span class='no'>...</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='st'>"white"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>color</span>)

<span class='fu'>exit_fly</span>(<span class='no'>...</span>, <span class='kw'>x_loc</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>y_loc</span> <span class='kw'>=</span> <span class='fl'>NA</span>)

<span class='fu'>exit_drift</span>(<span class='no'>...</span>, <span class='kw'>x_mod</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>y_mod</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>exit_reset</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>default</th>
      <td><p>A default transformation to use</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional specific transformations either named by the geom
(e.g. <code>bar</code>, or by its position in the layer stack, e.g. <code>"2"</code>)</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>A name for the manual modification (only used when printing the
object)</p></td>
    </tr>
    <tr>
      <th>early</th>
      <td><p>Should the data appear in the beginning of the transition or in
the end</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>The start/end transparency.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>The proportional start/end size. <code>0</code> means complete shrinking
while <code>1</code> means no shrinking</p></td>
    </tr>
    <tr>
      <th>colour, color, fill</th>
      <td><p>The start/end colour and fill the elements should
(dis)appear into</p></td>
    </tr>
    <tr>
      <th>x_loc, y_loc</th>
      <td><p>Start and end positions of the graphic elements</p></td>
    </tr>
    <tr>
      <th>x_mod, y_mod</th>
      <td><p>Modification to add to the entering or exiting data</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="user-defined-transformations"><a class="anchor" href="#user-defined-transformations"></a>User-defined transformations</h2>

    

<p>All enter/exit functions allows the user to add additional transformation
functions targeting specific layers. If the functions are named, then the
name is understood to reference the class of geoms it applies to. If the
functions are unnamed or numbered they will apply to the layer with a
matching index in the stack. Named and indexed transformations cannot be
mixed.</p>
<p>All modifications except <code>enter_manual()</code>/<code>exit_manual()</code> sets a range of
modifications already, but further can be added with the <code>...</code>. For the
manual versions a <code>default</code> transformation can be set which will apply to all
layers that does not match any of the other given transformations. Often a
single default transformation is enough and no specific transformations are
needed.</p>
<p>Transformation can be given as any expression that can be converted with
<code><a href='https://rlang.r-lib.org/reference/as_function.html'>rlang::as_function()</a></code>. This means that <code>purrr</code> style lambda functions are
allowed in addition to anonymous functions etc. Transformation functions must
accept a data.frame and return a data.frame of the same dimensions. The
function will be called with the entering/exiting layer data, except for the
case of polygon- and path-like layers in which case the function recieves the
entering/exiting polygon/path data one by one. A special option is to set a
transformation as <code>NULL</code> instead of a function. In that case the entering and
exiting data will simply appear/disappear when it is no longer part of a
frame.</p>
    <h2 class="hasAnchor" id="modification-composition"><a class="anchor" href="#modification-composition"></a>Modification composition</h2>

    

<p>Enter and exit modifications are composable so that multiple different ones
can be added to an animation and will be applied in turn. You can also
combine multiples and save them as a new enter or exit modification using
<code><a href='https://rdrr.io/r/base/c.html'>c()</a></code>.</p>
<p>Due to the composable nature of enter and exit modifications it is not
possible to overwrite a prior modification by adding a new. If it is needed
to start from scratch then the sentinels <code>enter_reset()</code> and <code>exit_reset()</code>
are provided which clears all prior modifications.</p>
    <h2 class="hasAnchor" id="modification-types"><a class="anchor" href="#modification-types"></a>Modification types</h2>

    

<p>A range of modification types are provided by <code>gganimate</code> and using
<code>enter_manual()</code>/<code>exit_manual()</code> or modification composition it is possible
to create your own.</p>
<p><strong>appear</strong>/<strong>disappear</strong> will simply make elements appear/disappear at either
the start or end of the transition. The default if nothing else is added.</p>
<p><strong>fade</strong> will simply set the alpha value to zero making the elements fade
in/out during the transition.</p>
<p><strong>grow</strong>/<strong>shrink</strong> will set the elements to zero size making them gradually
grow into / shrink out of existence. Zero size depends on the type of layer,
e.g. polygons/paths will have all their points set to the mean, while points
will have size/stroke set to zero.</p>
<p><strong>recolour</strong>/<strong>recolor</strong> will change the colour and/or fill of the elements
making them gradually change from the defined colour and into their try
colour. Be aware that unless the colour and fill are set to the same as the
background colour of the plot this modification needs to be combined with
others to ensure that elements does not abruptly appear.</p>
<p><strong>fly</strong> will set a specific x and y position where all elements will enter
from/ exit to, irrespectible of their real position.</p>
<p><strong>drift</strong> will modify the real position of the entering and exiting elements
by a specified amount, e.g. setting <code>x_mod = -5</code> will let all elements enter
from/exit to the left with a terminal position 5 points to the left of the
real position.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Default is appear/disappear</span>
<span class='no'>anim</span> <span class='kw'>&lt;-</span> <span class='fu'>ggplot</span>(<span class='no'>mtcars</span>, <span class='fu'>aes</span>(<span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>gear</span>), <span class='no'>mpg</span>)) +
  <span class='fu'>geom_boxplot</span>() +
  <span class='fu'><a href='transition_states.html'>transition_states</a></span>(<span class='no'>gear</span>, <span class='fl'>2</span>, <span class='fl'>1</span>)

<span class='co'># Fade-in, fly-out</span>
<span class='no'>anim1</span> <span class='kw'>&lt;-</span> <span class='no'>anim</span> +
  <span class='fu'>enter_fade</span>() +
  <span class='fu'>exit_fly</span>(<span class='kw'>x_loc</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>y_loc</span> <span class='kw'>=</span> <span class='fl'>40</span>)

<span class='co'># Enter and exit accumulates</span>
<span class='no'>anim2</span> <span class='kw'>&lt;-</span> <span class='no'>anim</span> +
  <span class='fu'>enter_fade</span>() + <span class='fu'>enter_grow</span>() +
  <span class='fu'>exit_fly</span>(<span class='kw'>x_loc</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>y_loc</span> <span class='kw'>=</span> <span class='fl'>40</span>) + <span class='fu'>exit_recolour</span>(<span class='kw'>fill</span> <span class='kw'>=</span> <span class='st'>'forestgreen'</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#user-defined-transformations">User-defined transformations</a></li>
      <li><a href="#modification-composition">Modification composition</a></li>
      <li><a href="#modification-types">Modification types</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://data-imaginist.com'>Thomas Lin Pedersen</a>, <a href='http://varianceexplained.org'>David Robinson</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'ee1fa0fd61e4ffed26fdeaf44ebdd541',
    indexName: 'gganimate',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


