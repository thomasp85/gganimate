<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transition between different filters — transition_filter • gganimate</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Transition between different filters — transition_filter" />
<meta property="og:description" content="This transition allows you to transition between a range of filtering
conditions. The conditions are expressed as logical statements and rows in
the data will be retained if the statement evaluates to TRUE. It is
possible to keep filtered data on display by setting keep = TRUE which will
let data be retained as the result of the exit function. Note that if data is
kept the enter function will have no effect." />
<meta property="og:image" content="https://gganimate.com/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-84380701-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84380701-2');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gganimate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/gganimate.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/extra/talks.html">Talks</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2019/gganimate-has-transitioned-to-a-state-of-release/">Version 1.0.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/thomasp85/gganimate">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transition between different filters</h1>
    <small class="dont-index">Source: <a href='https://github.com/thomasp85/gganimate/blob/master/R/transition-filter.R'><code>R/transition-filter.R</code></a></small>
    <div class="hidden name"><code>transition_filter.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This transition allows you to transition between a range of filtering
conditions. The conditions are expressed as logical statements and rows in
the data will be retained if the statement evaluates to <code>TRUE</code>. It is
possible to keep filtered data on display by setting <code>keep = TRUE</code> which will
let data be retained as the result of the exit function. Note that if data is
kept the enter function will have no effect.</p>
    </div>

    <pre class="usage"><span class='fu'>transition_filter</span>(<span class='kw'>transition_length</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>filter_length</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='no'>...</span>,
  <span class='kw'>wrap</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>keep</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>transition_length</th>
      <td><p>The relative length of the transition. Will be
recycled to match the number of states in the data</p></td>
    </tr>
    <tr>
      <th>filter_length</th>
      <td><p>The relative length of the pause at the states. Will be
recycled to match the number of states in the data</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>A number of expressions to be evaluated in the context of the layer
data, returning a logical vector. If the expressions are named, the name will
be available as a frame variable.</p></td>
    </tr>
    <tr>
      <th>wrap</th>
      <td><p>Should the animation <em>wrap-around</em>? If <code>TRUE</code> the last filter will
be transitioned into the first.</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>Should rows that evaluates to <code>FALSE</code> be kept in the data as it
looks after exit has been applied</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="label-variables"><a class="anchor" href="#label-variables"></a>Label variables</h2>

    

<p><code>transition_filter</code> makes the following variables available for string
literal interpretation, in addition to the general ones provided by
<code><a href='animate.html'>animate()</a></code>:</p><ul>
<li><p><strong>transitioning</strong> is a boolean indicating whether the frame is part of the
transitioning phase</p></li>
<li><p><strong>previous_filter</strong> The name of the last filter the animation was at</p></li>
<li><p><strong>closest_filter</strong> The name of the filter closest to this frame</p></li>
<li><p><strong>next_filter</strong> The name of the next filter the animation will be part of</p></li>
<li><p><strong>previous_expression</strong> The expression of the last filter the animation was at</p></li>
<li><p><strong>closest_expression</strong> The expression of the filter closest to this frame</p></li>
<li><p><strong>next_expression</strong> The expression of the next filter the animation will be part of</p></li>
</ul>

    <h2 class="hasAnchor" id="object-permanence"><a class="anchor" href="#object-permanence"></a>Object permanence</h2>

    

<p><code>transition_filter</code> does not link rows across data to the same graphic
element, so elements will be defined uniquely by each row. If <code>keep = TRUE</code>
the rows not matching the conditions of a filter is not removed from the plot
after the exit animation, and a possible subsequent enter will begin from
the state they were left in, rather than enter anew from the state defined by
the enter function.</p>
    <h2 class="hasAnchor" id="computed-variables"><a class="anchor" href="#computed-variables"></a>Computed Variables</h2>

    

<p>It is possible to use variables calculated by the statistic to define the
transition. Simply inclose the variable in <code>stat()</code> in the same way as when
using computed variables in aesthetics.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other transitions: <code><a href='transition_components.html'>transition_components</a></code>,
  <code><a href='transition_events.html'>transition_events</a></code>,
  <code><a href='transition_layers.html'>transition_layers</a></code>,
  <code><a href='transition_manual.html'>transition_manual</a></code>,
  <code><a href='transition_null.html'>transition_null</a></code>,
  <code><a href='transition_reveal.html'>transition_reveal</a></code>,
  <code><a href='transition_states.html'>transition_states</a></code>,
  <code><a href='transition_time.html'>transition_time</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>anim</span> <span class='kw'>&lt;-</span> <span class='fu'>ggplot</span>(<span class='no'>iris</span>, <span class='fu'>aes</span>(<span class='no'>Petal.Width</span>, <span class='no'>Petal.Length</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>Species</span>)) +
  <span class='fu'>geom_point</span>() +
  <span class='fu'>transition_filter</span>(
    <span class='kw'>transition_length</span> <span class='kw'>=</span> <span class='fl'>2</span>,
    <span class='kw'>filter_length</span> <span class='kw'>=</span> <span class='fl'>1</span>,
    <span class='kw'>Setosa</span> <span class='kw'>=</span> <span class='no'>Species</span> <span class='kw'>==</span> <span class='st'>'setosa'</span>,
    <span class='kw'>Long</span> <span class='kw'>=</span> <span class='no'>Petal.Length</span> <span class='kw'>&gt;</span> <span class='fl'>4</span>,
    <span class='kw'>Wide</span> <span class='kw'>=</span> <span class='no'>Petal.Width</span> <span class='kw'>&gt;</span> <span class='fl'>2</span>
  ) +
  <span class='fu'>ggtitle</span>(
    <span class='st'>'Filter: {closest_filter}'</span>,
    <span class='kw'>subtitle</span> <span class='kw'>=</span> <span class='st'>'{closest_expression}'</span>
  ) +
  <span class='fu'><a href='enter_exit.html'>enter_fade</a></span>() +
  <span class='fu'><a href='enter_exit.html'>exit_fly</a></span>(<span class='kw'>y_loc</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='co'># Setting `keep = TRUE` allows you to keep the culled data on display. Only</span>
<span class='co'># exit functions will be used in that case (as elements enters from the</span>
<span class='co'># result of the exit function)</span>
<span class='no'>anim2</span> <span class='kw'>&lt;-</span> <span class='fu'>ggplot</span>(<span class='no'>iris</span>, <span class='fu'>aes</span>(<span class='no'>Petal.Width</span>, <span class='no'>Petal.Length</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>Species</span>)) +
  <span class='fu'>geom_point</span>() +
  <span class='fu'>transition_filter</span>(
    <span class='kw'>transition_length</span> <span class='kw'>=</span> <span class='fl'>2</span>,
    <span class='kw'>filter_length</span> <span class='kw'>=</span> <span class='fl'>1</span>,
    <span class='kw'>Setosa</span> <span class='kw'>=</span> <span class='no'>Species</span> <span class='kw'>==</span> <span class='st'>'setosa'</span>,
    <span class='kw'>Long</span> <span class='kw'>=</span> <span class='no'>Petal.Length</span> <span class='kw'>&gt;</span> <span class='fl'>4</span>,
    <span class='kw'>Wide</span> <span class='kw'>=</span> <span class='no'>Petal.Width</span> <span class='kw'>&gt;</span> <span class='fl'>2</span>,
    <span class='kw'>keep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
  ) +
  <span class='fu'>ggtitle</span>(
    <span class='st'>'Filter: {closest_filter}'</span>,
    <span class='kw'>subtitle</span> <span class='kw'>=</span> <span class='st'>'{closest_expression}'</span>
  ) +
  <span class='fu'><a href='enter_exit.html'>exit_recolour</a></span>(<span class='kw'>colour</span> <span class='kw'>=</span> <span class='st'>'grey'</span>) +
  <span class='fu'><a href='enter_exit.html'>exit_shrink</a></span>(<span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#label-variables">Label variables</a></li>
      <li><a href="#object-permanence">Object permanence</a></li>
      <li><a href="#computed-variables">Computed Variables</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://data-imaginist.com'>Thomas Lin Pedersen</a>, <a href='http://varianceexplained.org'>David Robinson</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'ee1fa0fd61e4ffed26fdeaf44ebdd541',
    indexName: 'gganimate',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


